<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>커피만드는 과정</title>
  </head>
  <body>
    <div id="root"></div>
    <script>
      /**
       * 커피 과정 데이터
       * @type {object[]}
       * @description 각 커피 과정의 이름, 소요 시간, 품질을 포함한 객체 배열입니다.
       * @check order 1
       */
      const coffeeData = [
        { stage: "been selection", time: 10, quality: "high" },
        { stage: "roastion", time: 20, quality: "high" },
        { stage: "grinding", time: 5, quality: "medium" },
        { stage: "brewing", time: 15, quality: "high" },
        { stage: "serving", time: 2, quality: "high" },
      ];

      function coffeeFunc(data) {
        //각 과정의 이름을 대문자로 변환
        const stages = data.map((item) => {
          const stageLowerDase = item.stage.toUpperCase();
          return stageLowerDase;
        });
        console.log("과정들:", stages);

        //품질이 'high'인 과정만 필터링
        const highQualityStages = data.filter((item) => {
          const isHighQuality = item.quality === "high";
          return isHighQuality;
        });
        console.log("고품질 과정들:", highQualityStages);
        console.table(highQualityStages);

        //총 소요시간을 계산
        const totalTime = data.reduce((acc, item) => {
          const newTotalTime = acc + item.time;
          return newTotalTime;
        }, 0);
        console.log("총 소요시간:", totalTime);

        //결과물을 DOM에 출력
        const root = document.getElementById("root");
        root.innerHTML = `
        <h1>커피 만드는 과정</h1>
        <p><strong>과정들:</strong>${stages.join(",")}</p>
        <p><strong>고품질 과정들:</strong>${highQualityStages
          .map((item) => {
            return item.stage.toLowerCase();
          })
          .join(",")}</p>
        <p><strong>총 소요시간:</strong>${totalTime}분</p>
      `;
      }

      coffeeFunc(coffeeData);
    </script>
  </body>
</html>
